<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Grant Interview - Demo</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: #fff;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .grid-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                linear-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.05) 1px, transparent 1px);
            background-size: 50px 50px;
            pointer-events: none;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 2rem;
            position: relative;
            z-index: 1;
        }

        header {
            border-bottom: 2px solid #fff;
            padding-bottom: 1rem;
            margin-bottom: 2rem;
        }

        h1 {
            font-size: 2rem;
            letter-spacing: 3px;
            text-transform: uppercase;
        }

        .status {
            font-size: 0.9rem;
            color: #0f0;
            margin-top: 0.5rem;
        }

        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .video-section {
            border: 2px solid #fff;
            padding: 1.5rem;
            position: relative;
        }

        .video-section::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            width: 30px;
            height: 30px;
            border-top: 2px solid white;
            border-left: 2px solid white;
        }

        .video-section::after {
            content: '';
            position: absolute;
            bottom: -10px;
            right: -10px;
            width: 30px;
            height: 30px;
            border-bottom: 2px solid white;
            border-right: 2px solid white;
        }

        .section-title {
            font-size: 1.2rem;
            margin-bottom: 1rem;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        .video-container {
            background: #111;
            border: 2px solid #333;
            height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .video-placeholder {
            text-align: center;
            color: #666;
        }

        .video-active {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .tracking-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .face-box {
            position: absolute;
            border: 2px solid #0f0;
            display: none;
        }

        .face-box.active {
            display: block;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .controls {
            margin-top: 1rem;
            display: flex;
            gap: 1rem;
        }

        button {
            background: transparent;
            color: #fff;
            border: 2px solid #fff;
            padding: 0.8rem 2rem;
            cursor: pointer;
            font-family: 'Courier New', monospace;
            letter-spacing: 1px;
            text-transform: uppercase;
            transition: all 0.3s;
        }

        button:hover {
            background: #fff;
            color: #000;
        }

        button:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        button.active {
            background: #0f0;
            border-color: #0f0;
            color: #000;
        }

        .analysis-section {
            border: 2px solid #fff;
            padding: 1.5rem;
            position: relative;
        }

        .metrics {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .metric {
            border: 1px solid #333;
            padding: 1rem;
            background: #0a0a0a;
        }

        .metric-label {
            font-size: 0.8rem;
            color: #888;
            margin-bottom: 0.5rem;
        }

        .metric-value {
            font-size: 1.5rem;
            color: #0f0;
        }

        .progress-bar {
            height: 8px;
            background: #222;
            margin-top: 0.5rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #0f0;
            transition: width 0.3s;
        }

        .transcript-section {
            border: 2px solid #fff;
            padding: 1.5rem;
            height: 300px;
            overflow-y: auto;
        }

        .transcript-entry {
            margin-bottom: 1rem;
            padding: 0.5rem;
            border-left: 2px solid #0f0;
            padding-left: 1rem;
        }

        .transcript-time {
            color: #0f0;
            font-size: 0.8rem;
            margin-bottom: 0.3rem;
        }

        .transcript-text {
            color: #fff;
            line-height: 1.5;
        }

        .feedback-section {
            border: 2px solid #fff;
            padding: 1.5rem;
        }

        .feedback-item {
            margin-bottom: 1rem;
            padding: 1rem;
            border: 1px solid #333;
            background: #0a0a0a;
        }

        .feedback-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .feedback-category {
            color: #0f0;
            font-weight: bold;
        }

        .feedback-score {
            color: #fff;
        }

        .feedback-text {
            color: #ccc;
            line-height: 1.5;
            font-size: 0.9rem;
        }

        .grants-section {
            border: 2px solid #fff;
            padding: 1.5rem;
            margin-top: 2rem;
        }

        .grant-card {
            border: 2px solid #333;
            padding: 1.5rem;
            margin-bottom: 1rem;
            background: #0a0a0a;
            transition: all 0.3s;
        }

        .grant-card:hover {
            border-color: #0f0;
        }

        .grant-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1rem;
        }

        .grant-title {
            font-size: 1.2rem;
            color: #0f0;
            margin-bottom: 0.5rem;
        }

        .grant-amount {
            font-size: 1.5rem;
            color: #fff;
        }

        .grant-match {
            color: #0f0;
            font-size: 0.9rem;
        }

        .grant-description {
            color: #ccc;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .grant-tags {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .tag {
            border: 1px solid #666;
            padding: 0.3rem 0.8rem;
            font-size: 0.8rem;
            color: #888;
        }

        .recording-indicator {
            position: fixed;
            top: 2rem;
            right: 2rem;
            background: #f00;
            color: #fff;
            padding: 0.5rem 1rem;
            border: 2px solid #fff;
            animation: blink 1s infinite;
            z-index: 1000;
        }

        @keyframes blink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.3; }
        }

        @media (max-width: 1024px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="grid-background"></div>

    <div class="recording-indicator" id="recordingIndicator" style="display: none;">
        ● REC
    </div>

    <div class="container">
        <header>
            <h1>AI GRANT INTERVIEW SYSTEM</h1>
            <div class="status" id="status">SYSTEM READY • AWAITING INPUT</div>
        </header>

        <div class="main-grid">
            <!-- Video Section -->
            <div class="video-section">
                <div class="section-title">▶ VIDEO FEED</div>
                <div class="video-container">
                    <video id="videoFeed" class="video-active" style="display: none;"></video>
                    <div class="video-placeholder" id="videoPlaceholder">
                        <div style="font-size: 3rem; margin-bottom: 1rem;">▢</div>
                        <div>CAMERA INACTIVE</div>
                        <div style="font-size: 0.8rem; margin-top: 0.5rem; color: #444;">Click "Start Interview" to begin</div>
                    </div>
                    <div class="tracking-overlay">
                        <div class="face-box" id="faceBox"></div>
                    </div>
                </div>
                <div class="controls">
                    <button id="startBtn" onclick="startInterview()">Start Interview</button>
                    <button id="stopBtn" onclick="stopInterview()" disabled>Stop Interview</button>
                </div>
            </div>

            <!-- Real-time Analysis -->
            <div class="analysis-section">
                <div class="section-title">◆ REAL-TIME ANALYSIS</div>
                <div class="metrics">
                    <div class="metric">
                        <div class="metric-label">CONFIDENCE LEVEL</div>
                        <div class="metric-value" id="confidence">0%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="confidenceBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">EYE CONTACT</div>
                        <div class="metric-value" id="eyeContact">0%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="eyeContactBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">SPEECH CLARITY</div>
                        <div class="metric-value" id="clarity">0%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="clarityBar" style="width: 0%"></div>
                        </div>
                    </div>
                    <div class="metric">
                        <div class="metric-label">POSTURE</div>
                        <div class="metric-value" id="posture">0%</div>
                        <div class="progress-bar">
                            <div class="progress-fill" id="postureBar" style="width: 0%"></div>
                        </div>
                    </div>
                </div>
                <div class="section-title" style="margin-top: 1.5rem;">■ LIVE TRANSCRIPT</div>
                <div class="transcript-section" id="transcript">
                    <div style="color: #666; text-align: center; margin-top: 2rem;">
                        Waiting for audio input...
                    </div>
                </div>
            </div>
        </div>

        <!-- Feedback Section -->
        <div class="feedback-section">
            <div class="section-title">▲ AI FEEDBACK & SUGGESTIONS</div>
            <div id="feedbackContainer">
                <div style="color: #666; text-align: center; padding: 2rem;">
                    Start interview to receive real-time feedback
                </div>
            </div>
        </div>

        <!-- Grant Matches -->
        <div class="grants-section">
            <div class="section-title">★ MATCHED GRANTS</div>
            <div id="grantsContainer">
                <div style="color: #666; text-align: center; padding: 2rem;">
                    Grant matching will begin after analyzing your interview
                </div>
            </div>
        </div>
    </div>

    <script>
        let isRecording = false;
        let interviewStartTime = null;
        let transcriptInterval = null;
        let metricsInterval = null;

        const sampleQuestions = [
            "Tell me about your project or organization.",
            "What are your primary goals for this grant?",
            "How will you measure success?",
            "What makes your project unique?",
            "What is your estimated budget?"
        ];

        const sampleResponses = [
            "Our project focuses on developing sustainable technology solutions for underserved communities...",
            "We aim to create educational programs that bridge the digital divide in rural areas...",
            "The grant will help us expand our mentorship program to reach 500 more students this year...",
            "Our approach combines traditional methods with innovative AI-powered tools to maximize impact...",
            "We're seeking funding to scale our pilot program that has already shown promising results..."
        ];

        const feedbackTypes = [
            { category: "Body Language", score: "85/100", text: "Excellent eye contact maintained. Consider sitting slightly more upright to project confidence." },
            { category: "Speech Pattern", score: "78/100", text: "Clear articulation. Try to reduce filler words like 'um' and 'uh' for more professional delivery." },
            { category: "Content Quality", score: "92/100", text: "Strong narrative structure. Your passion for the project comes through clearly." },
            { category: "Engagement", score: "88/100", text: "Good use of examples. Consider adding more specific metrics and data points." }
        ];

        const sampleGrants = [
            {
                title: "Tech Innovation Fund 2024",
                amount: "$50,000",
                match: "94% MATCH",
                description: "Supporting innovative technology solutions that address social challenges. Focuses on scalable projects with measurable community impact.",
                tags: ["Technology", "Innovation", "Social Impact", "Education"]
            },
            {
                title: "Community Development Grant",
                amount: "$35,000",
                match: "87% MATCH",
                description: "Funding for programs that strengthen local communities through education and skill development initiatives.",
                tags: ["Community", "Education", "Youth", "Development"]
            },
            {
                title: "Digital Equity Initiative",
                amount: "$75,000",
                match: "91% MATCH",
                description: "Large-scale funding for projects reducing the digital divide and promoting technology access in underserved areas.",
                tags: ["Digital Access", "Equity", "Technology", "Rural"]
            }
        ];

        function startInterview() {
            isRecording = true;
            interviewStartTime = Date.now();
            
            document.getElementById('startBtn').disabled = true;
            document.getElementById('stopBtn').disabled = false;
            document.getElementById('recordingIndicator').style.display = 'block';
            document.getElementById('status').textContent = 'RECORDING • ANALYZING IN REAL-TIME';
            
            // Simulate camera access
            document.getElementById('videoPlaceholder').style.display = 'none';
            document.getElementById('videoFeed').style.display = 'block';
            document.getElementById('faceBox').classList.add('active');
            document.getElementById('faceBox').style.top = '20%';
            document.getElementById('faceBox').style.left = '30%';
            document.getElementById('faceBox').style.width = '40%';
            document.getElementById('faceBox').style.height = '50%';

            // Start transcript simulation
            startTranscript();
            
            // Start metrics updates
            startMetrics();

            // Show feedback after 5 seconds
            setTimeout(showFeedback, 5000);

            // Show grants after 10 seconds
            setTimeout(showGrants, 10000);
        }

        function stopInterview() {
            isRecording = false;
            
            document.getElementById('startBtn').disabled = false;
            document.getElementById('stopBtn').disabled = true;
            document.getElementById('recordingIndicator').style.display = 'none';
            document.getElementById('status').textContent = 'INTERVIEW COMPLETED • GENERATING FINAL REPORT';
            
            clearInterval(transcriptInterval);
            clearInterval(metricsInterval);

            // Show final results
            setTimeout(() => {
                document.getElementById('status').textContent = 'ANALYSIS COMPLETE • REVIEW YOUR RESULTS';
            }, 2000);
        }

        function startTranscript() {
            const transcriptEl = document.getElementById('transcript');
            transcriptEl.innerHTML = '';
            let questionIndex = 0;

            transcriptInterval = setInterval(() => {
                if (!isRecording) return;

                const time = new Date(Date.now() - interviewStartTime).toISOString().substr(14, 5);
                
                // Add question
                const questionEntry = document.createElement('div');
                questionEntry.className = 'transcript-entry';
                questionEntry.innerHTML = `
                    <div class="transcript-time">[${time}] AI INTERVIEWER:</div>
                    <div class="transcript-text">${sampleQuestions[questionIndex % sampleQuestions.length]}</div>
                `;
                transcriptEl.appendChild(questionEntry);

                // Add response after delay
                setTimeout(() => {
                    const responseTime = new Date(Date.now() - interviewStartTime).toISOString().substr(14, 5);
                    const responseEntry = document.createElement('div');
                    responseEntry.className = 'transcript-entry';
                    responseEntry.style.borderLeftColor = '#fff';
                    responseEntry.innerHTML = `
                        <div class="transcript-time" style="color: #fff;">[${responseTime}] YOU:</div>
                        <div class="transcript-text">${sampleResponses[questionIndex % sampleResponses.length]}</div>
                    `;
                    transcriptEl.appendChild(responseEntry);
                    transcriptEl.scrollTop = transcriptEl.scrollHeight;
                }, 2000);

                questionIndex++;
                transcriptEl.scrollTop = transcriptEl.scrollHeight;
            }, 8000);
        }

        function startMetrics() {
            metricsInterval = setInterval(() => {
                if (!isRecording) return;

                updateMetric('confidence', 70 + Math.random() * 25);
                updateMetric('eyeContact', 75 + Math.random() * 20);
                updateMetric('clarity', 80 + Math.random() * 15);
                updateMetric('posture', 65 + Math.random() * 30);
            }, 1500);
        }

        function updateMetric(name, value) {
            const rounded = Math.round(value);
            document.getElementById(name).textContent = rounded + '%';
            document.getElementById(name + 'Bar').style.width = rounded + '%';
        }

        function showFeedback() {
            const container = document.getElementById('feedbackContainer');
            container.innerHTML = '';

            feedbackTypes.forEach((feedback, index) => {
                setTimeout(() => {
                    const item = document.createElement('div');
                    item.className = 'feedback-item';
                    item.innerHTML = `
                        <div class="feedback-header">
                            <span class="feedback-category">${feedback.category}</span>
                            <span class="feedback-score">${feedback.score}</span>
                        </div>
                        <div class="feedback-text">${feedback.text}</div>
                    `;
                    container.appendChild(item);
                }, index * 1000);
            });
        }

        function showGrants() {
            const container = document.getElementById('grantsContainer');
            container.innerHTML = '';

            sampleGrants.forEach((grant, index) => {
                setTimeout(() => {
                    const card = document.createElement('div');
                    card.className = 'grant-card';
                    card.innerHTML = `
                        <div class="grant-header">
                            <div>
                                <div class="grant-title">${grant.title}</div>
                                <div class="grant-match">${grant.match}</div>
                            </div>
                            <div class="grant-amount">${grant.amount}</div>
                        </div>
                        <div class="grant-description">${grant.description}</div>
                        <div class="grant-tags">
                            ${grant.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                        </div>
                    `;
                    container.appendChild(card);
                }, index * 800);
            });
        }

        // Simulate face tracking movement
        setInterval(() => {
            if (isRecording) {
                const faceBox = document.getElementById('faceBox');
                const currentTop = parseFloat(faceBox.style.top);
                const currentLeft = parseFloat(faceBox.style.left);
                
                faceBox.style.top = (currentTop + (Math.random() - 0.5) * 2) + '%';
                faceBox.style.left = (currentLeft + (Math.random() - 0.5) * 2) + '%';
            }
        }, 100);
    </script>
</body>
</html>